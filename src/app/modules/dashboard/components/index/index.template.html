<section class="column">
  <app-view-header>
    <app-collection-text-input-search [collection]="searchCollection" [queryParam]="'q'" #searchBar></app-collection-text-input-search>
  </app-view-header>

  <!--<app-collection-range-input-search [collection]="tracks" [queryParam]="'duration[from]'"></app-collection-range-input-search>-->
  <!--<app-sort-tracks [tracks]="tracks"></app-sort-tracks>-->

  <app-scroll-view>
    <app-social-share-panel
      *ngIf="tracksSoundCloud.length !== 0"
      class="card">
    </app-social-share-panel>

    <button (click)="activeTab='SOUNDCLOUD'"
            [ngClass]="{'btn-success': activeTab==='SOUNDCLOUD'}">
      Soundcloud
    </button>
    <button (click)="activeTab='YOUTUBE'"
            [ngClass]="{'btn-success': activeTab==='YOUTUBE'}">
      Youtube
    </button>

    <app-tab-bar [showTabBar]="false" [activeTabId]="activeTab" #tabBar>
      <app-tab-pane id="SOUNDCLOUD" title="Soundcloud">

        <div *ngIf="tracksSoundCloud.length>0"
             class="results">
          <app-search-filter [collection]="tracksSoundCloud"></app-search-filter>
          <app-track-list [tracks]="tracksSoundCloud"></app-track-list>
        </div>

      </app-tab-pane>
      <app-tab-pane id="YOUTUBE" title="Youtube">

        <div *ngIf="tracksYoutube.length>0"
             class="results">
          <app-search-filter [collection]="tracksYoutube"></app-search-filter>
          <app-track-list [tracks]="tracksYoutube"></app-track-list>
        </div>

      </app-tab-pane>
    </app-tab-bar>

    <div *ngIf="tracksSoundCloud.length === 0 && !isFetching"
         class="card getting-started">
      <h1>Welcome to Cloud Player!</h1>
      <p>
        Cloud player is an unofficial SoundCloud player to play songs from SoundCloud.
        <br>
        You can search for all songs that are available on SoundCloud
      </p>
      <p>
        <a (click)="connect()">Connect with your SoundCloud account</a> to get your playlists and liked tracks. They
        will appear in the menubar
        as soon as the connection was successful.
      </p>
      <p>
        You can then create new playlists or edit your existing ones. To add new Songs to your playlists you can simply
        drag and drop tracks on it.
      </p>
      <p>Cloud Player is also available as <a routerLink="/desktop-app">native App for your PC.</a></p>
    </div>

    <div *ngIf="tracksSoundCloud.length === 0 && isFetching"
         class="card">
      Searching for tracks that match your query "{{tracksSoundCloud.queryParams.q}}"
    </div>
  </app-scroll-view>
</section>
