<section class="column">
  <app-view-header>
    <i class="fa fa-list" aria-hidden="true"></i> Playlists
  </app-view-header>

  <app-tab-bar [showTabBar]="true" (tabChange)="selectTab($event)">
    <app-tab-pane
      *ngFor="let account of accounts.models"
      [id]="account.provider"
      [title]="availableProviderMap[account.provider].title"
      [icon]="availableProviderMap[account.provider].icon">
      <div *ngIf="!account.isNew()" class="card">
        <ul class="playlist-grid">
          <li *ngFor="let playlist of account.playlists.models">
            <div class="playlist-card">
              <div class="image">
                <img *ngIf=playlist.image.getMediumSizeUrl()
                     [src]="playlist.image.getMediumSizeUrl()">
                <div *ngIf=!playlist.image.getMediumSizeUrl()
                   class="no-img">
                  <i class="fa fa-list"></i>
                </div>
              </div>
              <div class="description">
                <div class="title">
                  {{playlist.title}}
                </div>
              </div>
              <div class="actions">
                <div class="btn btn-link btn-default" (click)="play(playlist)">
                  Play
                </div>
                <a routerLink="/playlists/{{playlist.provider}}/{{playlist.id}}" class="btn btn-link btn-default">
                  Show Tracks
                </a>
              </div>
            </div>
          </li>
        </ul>
      </div>
      <div *ngIf="account.isNew()">
        <p>
          Connect with your {{availableProviderMap[account.provider].title}}
          account to see all of your favourite tracks
        </p>
        <button class="btn btn-primary">
          <i [class]="availableProviderMap[account.provider].icon"></i>
          Connect
        </button>
      </div>
    </app-tab-pane>
  </app-tab-bar>
</section>
